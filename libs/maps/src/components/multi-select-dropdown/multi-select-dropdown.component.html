<label class="relative">
	<input type="checkbox" class="hidden peer" (change)="toggleDropdown()" />

	<div
		class="cursor-pointer after:content-['â–¼'] after:text-xs after:ml-1 after:inline-flex after:items-center peer-checked:after:-rotate-180 after:transition-transform inline-flex border rounded px-5 py-2">
		{{ prompt }}
		<ng-container *ngIf="isJsEnabled && selectedOptions.length > 0">
			<span class="ml-1 text-blue-500">({{ selectedOptions.length }} selected)</span>
		</ng-container>
	</div>

	<div
		class="absolute z-50 w-full overflow-y-scroll transition-opacity bg-white border opacity-0 pointer-events-none peer-checked:opacity-100 peer-checked:pointer-events-auto max-h-60">
		<ul *ngIf="isJsEnabled">
			<li>
				<button (click)="handleSelectAllClick($event)" [disabled]="selectedOptions.length >= options.length"
					class="w-full px-2 py-1 text-left text-blue-600 disabled:opacity-50">
					Select All
				</button>
			</li>
			<li>
				<button (click)="handleClearSelectionClick($event)" [disabled]="selectedOptions.length === 0"
					class="w-full px-2 py-1 text-left text-blue-600 disabled:opacity-50">
					Clear selection
				</button>
			</li>
		</ul>
		<ul>
			<li *ngFor="let option of options">
				<label
					class="flex px-2 py-1 transition-colors cursor-pointer whitespace-nowrap hover:bg-blue-100"
					[class.bg-blue-200]="selectedOptions.includes(option.driversID)">
					<input type="checkbox" name="{{ formFieldName }}" [value]="option.driversID"
						class="cursor-pointer" [checked]="selectedOptions.includes(option.driversID)"
						(change)="handleChange($event)" />
					<span class="ml-1">{{ option.name }}</span>
				</label>
			</li>
		</ul>
	</div>
</label>
